<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>3. The Structure of ggplot2 (Part 1: Basics) - Cédric Scherer - Data Visualization in R with ggplot2</title>
    <meta charset="utf-8" />
    <meta name="author" content="Cédric Scherer" />
    <meta name="date" content="2020-02-26" />
    <link href="libs/remark-css-0.0.1/kunoichi.css" rel="stylesheet" />
    <link rel="stylesheet" href="css\physalia-fonts.css" type="text/css" />
    <link rel="stylesheet" href="css\physalia.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: inverse, center
background-image: url("img/darklight_RichardStrozynski.jpg")
background-size: contain



&lt;br&gt;&lt;br&gt;
## &lt;span style='font-size:40pt;'&gt;Data Visualization in &lt;code style='color:#ebc500;'&gt;R&lt;/code&gt; with &lt;code style='color:#ebc500;'&gt;ggplot2&lt;/code&gt;&lt;/span&gt;&lt;br&gt;&lt;span style='font-size:25pt;color:#a7a7a7;font-weight:400;'&gt;The Structure of &lt;code style='color:#a7a7a7;font-weight:400;'&gt;ggplot2&lt;/code&gt; (Part 1: Basics)&lt;/span&gt;
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
## &lt;span style='font-size:22pt;'&gt;Cédric Scherer&lt;/b&gt;&lt;b style='font-size:15pt;color:#ccba56;font-weight:400;'&gt;&lt;br&gt;Physalia Courses&amp;nbsp;&amp;nbsp;&amp;nbsp;|&amp;nbsp;&amp;nbsp;&amp;nbsp;March 2-6 2020&lt;/b&gt;&lt;br&gt;&lt;p align='right;'&gt;&lt;span style='font-size:9pt;color:#767676;font-weight:400;'&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;img src="img/ggplot2.png" style='width: 30%;'&gt;&lt;br&gt;&lt;br&gt;
# &lt;b style='font-size:60pt'&gt; The &lt;code style='color:#ebc500'&gt;ggplot2&lt;/code&gt; Package

---
class: center, middle, inverse

&lt;p style="text-align:center;"&gt;&lt;img src="img/ggplot2.png" style="width: 20%"&gt;
&lt;br&gt;&lt;br&gt;

&lt;b style='font-size:30pt'&gt;&lt;code style='color:#ebc500'&gt;ggplot2&lt;/code&gt; is a system for declaratively creating graphics,&lt;br&gt;based on "The Grammar of Graphics" (Wilkinson, 2005).&lt;/b&gt;
&lt;br&gt;&lt;br&gt;
&lt;span style='font-size:22pt'&gt;You provide the data, tell &lt;code style='color:#ebc500;font-weight:700'&gt;ggplot2&lt;/code&gt; how to map variables to aesthetics,&lt;br&gt;what graphical primitives to use, and it takes care of the details.&lt;/span&gt;&lt;br&gt;
&lt;br&gt;
&lt;i style='font-size:12pt;color:grey'&gt;ggplot2 package description&lt;/i&gt;

---
class: center, middle

&lt;img src="img/ah_ggplot2_exploratory.png" style='width:57%'&gt;&lt;br&gt;&lt;i style='font-size:10pt;color:grey'&gt;Illustration by Allison Horst (github.com/allisonhorst/stats-illustrations)&lt;/i&gt;

---
class: middle

# Advantages of `ggplot2`

&lt;br&gt;
&lt;ul style='font-size:22pt;color:#28a87d;font-weight:700'&gt;
&lt;li&gt;consistent underlying grammar of graphics (Wilkinson, 2005)&lt;/li&gt;
&lt;br&gt;
&lt;li&gt;very flexible, layered plot specification&lt;/li&gt; 
&lt;br&gt;
&lt;li&gt;theme system for polishing plot appearance&lt;/li&gt;
&lt;br&gt;  
&lt;li&gt;active and helpful community&lt;/li&gt;
&lt;/ul&gt;

---
class: inverse, center, middle

# &lt;b style='font-size:70pt'&gt;The &lt;code style='color:#ebc500'&gt;ggplot2&lt;/code&gt; Showcase&lt;/b&gt;&lt;br&gt;&lt;br&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/bbc-gallery.png" style='width:100%'&gt;&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;Collection of BBC Graphics&lt;br&gt;&lt;span style='color:grey;font-size:8pt'&gt;(modified from bbc.github.io/rcookbook)&lt;/span&gt;&lt;/i&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/SWD_2020_01_SmallMultiples_grey.png" style='width:94%'&gt;&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;Contribution to #SWDchallenge&lt;/i&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/europe_sprengler.jpeg" style='width:49%'&gt;&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;European Elections by Torsten Sprenger&lt;br&gt;&lt;span style='color:grey;font-size:8pt'&gt;(twitter.com/spren9er/status/1138000009306234880)&lt;/span&gt;&lt;/i&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/jake_bird_collisions.png" style='width:81%'&gt;
&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;#TidyTuesday Contribution by Jake Kaupp&lt;br&gt;&lt;span style='color:grey;font-size:8pt'&gt;(github.com/jkaupp/tidytuesdays)&lt;/span&gt;&lt;/i&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/georgos_bob_ross.png" style='width:80%'&gt;&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;#TidyTuesday Contribution by Georgos Karamanis&lt;br&gt;&lt;span style='color:grey;font-size:8pt'&gt;(github.com/gkaramanis/tidytuesday)&lt;/span&gt;&lt;/i&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/swiss_map.png" style='width:68%'&gt;&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;Bivariate Map by Timo Gossenbacher&lt;br&gt;&lt;span style='color:grey;font-size:8pt'&gt;(timogrossenbacher.ch/2019/04/bivariate-maps-with-ggplot2-and-sf)&lt;/span&gt;&lt;/i&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/12_Movement_BerlinByBike.png" style='width:59%'&gt;&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;Contribution to the #30DayMapChallenge&lt;br&gt;&lt;/p&gt;

---
class: inverse, center, middle

&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/BuiltEnv_BuildingsXberg.png" style='width:80%'&gt;&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;Contribution to the #30DayMapChallenge&lt;br&gt;&lt;/p&gt;

---
class: inverse, center, middle

.pull-left[
&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/gganimate-hurricane.gif" style='width:73%'&gt;&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;Example of the {gganimate} Package&lt;br&gt;&lt;span style='color:grey;font-size:8pt'&gt;(github.com/thomasp85/gganimate/wiki)&lt;/span&gt;&lt;/i&gt;&lt;/p&gt;
]

.pull-right[
&lt;p style='text-align:center;'&gt;&lt;img src="img/showcase/2019_42_BigCars_Highway.gif" style='width:100%'&gt;&lt;br&gt;&lt;i style='color:lightgrey;font-size:10pt'&gt;Contribution to #TidyTuesday&lt;/i&gt;&lt;/p&gt;
]

---
class: inverse, center, middle

# &lt;b style='font-size:70pt;color:#ebc500'&gt;The Setup&lt;/b&gt;&lt;br&gt;&lt;br&gt;

---
## The package

&lt;span style='font-size:18pt'&gt;`ggplot2` is a **data visualization package** for the programming language `R` created by Hadley Wickham in 2005.&lt;/span&gt;


```r
install.packages("ggplot2")
library(ggplot2)
```

--

&lt;span style='font-size:15pt'&gt;`ggplot2` is part of the [`tidyverse`](https://blog.rstudio.org/2016/09/15/tidyverse-1-0-0/), a set of packages that work in harmony to manipulate and explore data.&lt;/span&gt;


```r
install.packages("tidyverse")
library(tidyverse)
```

&lt;p style="text-align:right;"&gt;&lt;img src="img/tidyverse.png" style="width: 58%"&gt;&lt;font color="grey" size=2&gt;&lt;i&gt;Source: dicook.org/files/rstudio/#3&lt;/i&gt;&lt;/font&gt;&lt;/p&gt;

---

## The package 

We are going to use the development version of `ggplot2`.&lt;br&gt;
You can install the most recent version on GitHub using the package `devtools`:


```r
install.packages("devtool")
devtools::install_github("tidyverse/ggplot2")
```

---



## The data

We use data from the *National Morbidity and Mortality Air Pollution Study*&amp;nbsp;&amp;nbsp;(NMMAPS), filtered for the city of **Chicago** and&lt;br&gt;the timespan  **from January 1997 to December 2000**.


```r
chic &lt;- readr::read_csv("https://raw.githubusercontent.com/Z3tt/ggplot-courses/master/data/chicago-nmmaps.csv",
                  col_types = cols(season = col_factor(), year = col_factor()))
tibble::glimpse(chic)
## Observations: 1,461
## Variables: 10
## $ city     &lt;chr&gt; "chic", "chic", "chic", "chic", "chic", "chic", "chic", "c...
## $ date     &lt;date&gt; 1997-01-01, 1997-01-02, 1997-01-03, 1997-01-04, 1997-01-0...
## $ death    &lt;dbl&gt; 137, 123, 127, 146, 102, 127, 116, 118, 148, 121, 110, 127...
## $ temp     &lt;dbl&gt; 36.0, 45.0, 40.0, 51.5, 27.0, 17.0, 16.0, 19.0, 26.0, 16.0...
## $ dewpoint &lt;dbl&gt; 37.500, 47.250, 38.000, 45.500, 11.250, 5.750, 7.000, 17.7...
## $ pm10     &lt;dbl&gt; 13.052268, 41.948600, 27.041751, 25.072573, 15.343121, 9.3...
## $ o3       &lt;dbl&gt; 5.659256, 5.525417, 6.288548, 7.537758, 20.760798, 14.9408...
## $ time     &lt;dbl&gt; 3654, 3655, 3656, 3657, 3658, 3659, 3660, 3661, 3662, 3663...
## $ season   &lt;fct&gt; Winter, Winter, Winter, Winter, Winter, Winter, Winter, Wi...
## $ year     &lt;fct&gt; 1997, 1997, 1997, 1997, 1997, 1997, 1997, 1997, 1997, 1997...
```

---
class: inverse, center, middle

# &lt;b style='font-size:70pt;'&gt;The Structure of&lt;br&gt;&lt;code style='color:#ebc500'&gt;ggplot2&lt;/code&gt;&lt;/b&gt;&lt;br&gt;
# &lt;b style='font-size:40pt;color:#a7a7a7;font-weight:400;'&gt;"The Grammar of Graphics"&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

---

## The Structure of `ggplot2`

&lt;br&gt;
&lt;table style='width:100%;font-size:16pt'&gt;
  &lt;tr&gt;
    &lt;th&gt;Layer&lt;/th&gt;
    &lt;th&gt;Function&lt;/th&gt;
    &lt;th&gt;Explanation&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Data&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;ggplot(data)&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The raw data that you want to visualise.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Aesthetics&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;aes()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Aesthetic mappings of the geometric and statistical objects.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Layers&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;geom_*()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code style=font-weight:700&gt;stat_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The geometric shapes and statistical summaries representing the data.&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

---

## The Structure of `ggplot2`

&lt;br&gt;
&lt;table style='width:100%;font-size:16pt'&gt;
  &lt;tr&gt;
    &lt;th&gt;Layer&lt;/th&gt;
    &lt;th&gt;Function&lt;/th&gt;
    &lt;th&gt;Explanation&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Data&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;ggplot(data)&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The raw data that you want to visualise.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Aesthetics&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;aes()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Aesthetic mappings of the geometric and statistical objects.&lt;/td&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Layers&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;geom_*()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code style=font-weight:700&gt;stat_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The geometric shapes and statistical summaries representing the data.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Scales&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;scale_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Maps between the data and the aesthetic dimensions.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Coordinate System&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;coord_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Maps data into the plane of the data rectangle.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Facets&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;facet_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The arrangement of the data into a grid of plots.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Visual Themes&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;theme()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code style=font-weight:700&gt;theme_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The overall visual defaults of a plot.&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

---

## The Structure of `ggplot2`

&lt;br&gt;
&lt;table style='width:100%;font-size:16pt'&gt;
  &lt;tr&gt;
    &lt;th&gt;Layer&lt;/th&gt;
    &lt;th&gt;Function&lt;/th&gt;
    &lt;th&gt;Explanation&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Data&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;ggplot(data)&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The raw data that you want to visualise.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Aesthetics&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;aes()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Aesthetic mappings of the geometric and statistical objects.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Layers&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;geom_*()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code style=font-weight:700&gt;stat_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The geometric shapes and statistical summaries representing the data.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Scales&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;scale_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Maps between the data and the aesthetic dimensions.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Coordinate System&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;coord_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Maps data into the plane of the data rectangle.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Facets&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;facet_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The arrangement of the data into a grid of plots.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Visual Themes&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;theme()&lt;/code&gt; and&amp;nbsp;&amp;nbsp;&lt;code style=font-weight:700&gt;theme_*()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;The overall visual defaults of a plot.&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;b style='color:grey'&gt;Annotations&lt;/b&gt;&lt;/td&gt;
    &lt;td&gt;&lt;code style=font-weight:700&gt;annotate()&lt;/code&gt;&lt;/td&gt;
    &lt;td&gt;Add additional labels, geometries or images to a plot.&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;

---
class: inverse, center, middle

# &lt;b style='font-size:70pt'&gt;Data&lt;/b&gt;&lt;br&gt;
# &lt;code style='font-size:40pt;color:#ebc500;font-weight:700'&gt;ggplot(data)&lt;/code&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;ggplot2::ggplot()&lt;/code&gt;

&lt;br&gt;

```r
ggplot
## function (data = NULL, mapping = aes(), ..., environment = parent.frame()) 
## {
##     UseMethod("ggplot")
## }
## &lt;bytecode: 0x000000000cd983b8&gt;
## &lt;environment: namespace:ggplot2&gt;
```

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;ggplot(data)&lt;/code&gt;

We need to specify data in the `ggplot()` call:

.pull-left[

```r
*ggplot(data = chic)
```

There is only an empty panel because `ggplot2`&lt;br&gt;doesn't know **what** of the data it should plot.
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-data-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;ggplot(data, aes(x, y))&lt;/code&gt;

We need to specify data and the two variables we want to plot as `aes`tethics of the `ggplot()` call:

.pull-left[

```r
ggplot(data = chic,
*      mapping =
*        aes(
*         x = date,
*         y = temp
*       )
      ) 
```
There is only an empty panel because `ggplot2`&lt;br&gt;doesn't know **how** it should plot the data.
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-data-vars-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;ggplot(data, aes(x, y))&lt;/code&gt;

We need to specify data and the two variables we want to plot as `aes`tethics of the `ggplot()` call:

.pull-left[
Thanks to implicit matching of arguments in `ggplot(data, mapping)` and `aes(x, y)`, we can also write:


```r
*ggplot(chic, aes(date, temp))
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-data-vars2-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;ggplot(data) + aes(x, y)&lt;/code&gt;

We need to specify data and the two variables we want to plot as `aes`tethics of the `ggplot()` call:

.pull-left[
Since almost every `ggplot()` takes the same arguments&lt;br&gt;(`data, mapping = aes(x, y)`), we can also write:


```r
ggplot(chic, aes(date, temp))
```

... or add the `aes`thetics outside the `ggplot()` function:


```r
*ggplot(chic) +
* aes(date, temp)
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-data-vars4-1.png" width="504" /&gt;
]

---
class: inverse, center, middle

# &lt;b style='font-size:70pt'&gt;Layers&lt;/b&gt;&lt;br&gt;
# &lt;b style='font-size:40pt;color:grey'&gt;&lt;code style='color:#ebc500'&gt;geom\_\*()&lt;/code&gt;&amp;nbsp;&amp;nbsp;and&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;code style='color:#ebc500'&gt;stat\_\*()&lt;/code&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

---

## &lt;b&gt;&lt;code&gt;geom\_\*()&lt;/code&gt;&amp;nbsp;&amp;nbsp;and&amp;nbsp;&amp;nbsp;&lt;code&gt;stat_*()&lt;/code&gt;&lt;/b&gt;

By adding one or multiple layers we can tell `ggplot2` *how*&amp;nbsp;&amp;nbsp;to represent the data.&lt;br&gt;
There are lots of build-in geometric elements (`geom's`) and statistical transformations (`stat's`):

&lt;p style="text-align:center;"&gt;&lt;img src="img/ggplot-layers.png" style="width: 51%"&gt;&lt;i style='font-size:10pt;color:grey'&gt;Adapted from ggplot2.tidyverse.org/reference&lt;/i&gt;&lt;/p&gt;

&lt;span style='font-size:11pt'&gt;... and several more in extension packages, e.g. `{ggforce}`, `{ggalt}`, `{ggridges}`, `{ggrepel}`, `{ggcorrplot}`, `{ggraph}`, `{ggdendro}` &amp; `{ggalluvial}`.&lt;/span&gt;

---
class: inverse, center, middle

# &lt;b style='font-size:70pt'&gt;2. Layers&lt;/b&gt;&lt;br&gt;
# &lt;b style='font-size:40pt;color:grey'&gt;Geometric Layers: &lt;code style='color:#ebc500'&gt;geom\_\*()&lt;/code&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_point()&lt;/code&gt;

We can tell `ggplot2` to represent the data for example as a **scatter plot**:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
* geom_point()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-point-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_area()&lt;/code&gt;

## ... or turn it for example into an **area plot**:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
* geom_area()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-area-1.png" width="504" /&gt;
]

---

## Spoiler: Themes!

The default theme of `ggplot2` is well known for it's beauty.
&lt;br&gt;&lt;br&gt;
Even though Hadley ensures the design defaults were a 

&gt; "deliberate choice because it puts the data forward while still making grid lines visible"

one of the first things I do is getting rid of it because I can't see it anymore.

--
&lt;br&gt;&lt;br&gt;
Also, I do not really agree with the reasoning:

&gt; "The white **grid lines are visible** (which is important because they significantly aid position judgements), but they have **little visual impact** and we can easily tune them out.  
&gt; The **grey background** gives the plot a **similar typographic colour to the text**, ensuring that the graphics fit in the with the flow of a document without jumping out wit a bright white background.
&gt; Finally, the grey background **creates a continuous field of colour** which ensures that the plot is perceived as single visual entity.

---

## Spoiler: Themes!

Luckily, there are several built-in themes in `ggplot2` (and many many more in extension packages):

.pull-left[
&lt;img src="3_Basics_ggplot_files/figure-html/theme-a-1.png" width="504" /&gt;
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/theme-b-1.png" width="504" /&gt;
]

---

## Spoiler: Themes!

Luckily, there are several built-in themes in `ggplot2` (and many many more in extension packages):

.pull-left[
&lt;img src="3_Basics_ggplot_files/figure-html/theme-c-1.png" width="504" /&gt;
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/theme-d-1.png" width="504" /&gt;
]

---

## Spoiler: Themes!




You can change the theme via `theme_set(theme_name())` - I am going to use `theme_light()` from now on:

.pull-left[

```r
theme_set(theme_light())

ggplot(chic, aes(date, temp)) +
  geom_point()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-set-theme-1.png" width="504" /&gt;
]

---

## Your Turn!

&lt;b style='font-size:18pt;color:#00684a'&gt;
* Turn our scatter plot into a line chart and into a bar chart!

* Create a box plot of temperature per date.

&lt;/b&gt;
&lt;b style='font-size:18pt;color:#ea724c'&gt;
* What is the problem? How could you find out why this is happening?

&lt;/b&gt;
&lt;b style='font-size:18pt;color:#00684a'&gt;
* Try to create box plots as you would expect them.

* Bonus: Choose the built-in theme you like the most!

&lt;/b&gt;

---

## Your Turn!

&lt;b style='font-size:18pt;color:#00684a'&gt;
* Turn our scatter plot into a line chart and into a bar chart!

* What’s the difference between `geom_path()` and `geom_line()`?

* Create a box plot of temperature per date.

&lt;/b&gt;
&lt;b style='font-size:18pt;color:#ea724c'&gt;
* What is the problem? How could you find out why this is happening?

&lt;/b&gt;
&lt;b style='font-size:18pt;color:#00684a'&gt;
* Try to create box plots as you would expect them.

* Hint: You need to specify one categorical variable!

* Bonus: Choose the built-in theme you like the most!

&lt;/b&gt;

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_line()&lt;/code&gt;

Our scatter plot as a **line plot**:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
* geom_line()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-line-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_line()&lt;/code&gt;

... or as a **bar plot**:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
* geom_bar(stat = "identity")
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-bar-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_line()&lt;/code&gt;

... or as a **bar plot**:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
* geom_col()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-col-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_boxplot()&lt;/code&gt;

... or a **box and whiskers plot**:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
* geom_boxplot()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-box-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_boxplot()&lt;/code&gt;

... or a **box and whiskers plot**:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
* geom_boxplot()
```

&lt;br&gt;&lt;b style='font-size:22pt'&gt;What's going on here?!&lt;/b&gt;
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-box2-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_boxplot()&lt;/code&gt;

We need to specify the variable as **categorial** (`as.factor(date)`), not as **continuous** (`date`):

.pull-left[

```r
*ggplot(chic, aes(as.factor(date), temp)) +
    geom_boxplot() 
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-box-fct-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_boxplot()&lt;/code&gt;

We need to specify the variable as **categorial** (`as.factor(date)`), not as **continuous** (`date`):

.pull-left[

```r
*ggplot(chic, aes(as.factor(date), temp)) +
    geom_boxplot() 
```

&lt;br&gt;&lt;b style='font-size:22pt'&gt;But - why are there no box plots?&lt;/b&gt;
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-box-fct2-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_boxplot()&lt;/code&gt;

We need to specify the variable as **categorial** (e.g. `year` or `season`), not as **continuous** (`date`):

.pull-left[

```r
*ggplot(chic, aes(year, temp)) +
    geom_boxplot() 
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-box-fct-year-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;geom_boxplot()&lt;/code&gt;

We need to specify the variable as **categorial** (e.g. `year` or `season`), not as **continuous** (`date`):

.pull-left[

```r
*ggplot(chic, aes(season, temp)) +
    geom_boxplot() 
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-box-fct-season-1.png" width="504" /&gt;
]

---

## Box-and-Whisker Plots
&lt;br&gt;
&lt;p style='text-align:center'&gt;&lt;img src="img/boxplot.png" style='width:77%'&gt;&lt;/p&gt;

---

## &lt;b&gt;Multiple &lt;code style='color:#28a87d'&gt;geom_*()&lt;/code&gt;'s&lt;/b&gt;

Other layers can be added to an existing plot - a line and a rug representation for example:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
  geom_point() +
* geom_line() +
* geom_rug(sides = "r")
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-geom-rug-1.png" width="504" /&gt;
]

---

## `ggplot`s as Object

You can assign ggplot to an object name:

.pull-left[

```r
g &lt;- ggplot(chic, aes(date, temp)) +
  geom_point()

g
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-ggplot-object-1.png" width="504" /&gt;
]

---

## `ggplot`s as Object

... and add layers afterwards:

.pull-left[

```r
g &lt;- ggplot(chic, aes(date, temp)) +
  geom_point()

g +
  geom_line() +
  geom_rug(sides = "r")
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-ggplot-object-2-1.png" width="504" /&gt;
]

---

## Your Turn!

&lt;b style='font-size:18pt;color:#00684a'&gt;
* Import the data on password strength from *Information is Beautiful* via the #TidyTuesday repository&lt;br&gt;&lt;span style='font-size:15pt;'&gt;(https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-14/passwords.csv)

* Have a look at the raw data (both in the browser and `R`)

* Investigate the data set via summary functions.

* Create two plots with geom's of your choice to answer the following:

  - Which password category is ranked the lowest and which the highest?

  - Is there a password category that is more common than others?

&lt;/b&gt; 

---

## Your Turn!


```r
passwords &lt;- read_csv("https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-01-14/passwords.csv")

glimpse(passwords)
## Observations: 507
## Variables: 9
## $ rank              &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15...
## $ password          &lt;chr&gt; "password", "123456", "12345678", "1234", "qwerty...
## $ category          &lt;chr&gt; "password-related", "simple-alphanumeric", "simpl...
## $ value             &lt;dbl&gt; 6.91, 18.52, 1.29, 11.11, 3.72, 1.85, 3.72, 6.91,...
## $ time_unit         &lt;chr&gt; "years", "minutes", "days", "seconds", "days", "m...
## $ offline_crack_sec &lt;dbl&gt; 2.170e+00, 1.110e-05, 1.110e-03, 1.110e-07, 3.210...
## $ rank_alt          &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15...
## $ strength          &lt;dbl&gt; 8, 4, 4, 4, 8, 4, 8, 4, 7, 8, 8, 1, 32, 9, 9, 8, ...
## $ font_size         &lt;dbl&gt; 11, 8, 8, 8, 11, 8, 11, 8, 11, 11, 11, 4, 23, 12,...
```

---

## Your Turn!


```r
#View(passwords)

summary(passwords[,c(1:6, 8)])
##       rank         password           category             value       
##  Min.   :  1.0   Length:507         Length:507         Min.   : 1.290  
##  1st Qu.:125.8   Class :character   Class :character   1st Qu.: 3.430  
##  Median :250.5   Mode  :character   Mode  :character   Median : 3.720  
##  Mean   :250.5                                         Mean   : 5.603  
##  3rd Qu.:375.2                                         3rd Qu.: 3.720  
##  Max.   :500.0                                         Max.   :92.270  
##  NA's   :7                                             NA's   :7       
##   time_unit         offline_crack_sec     strength     
##  Length:507         Min.   : 0.00000   Min.   : 0.000  
##  Class :character   1st Qu.: 0.00321   1st Qu.: 6.000  
##  Mode  :character   Median : 0.00321   Median : 7.000  
##                     Mean   : 0.50001   Mean   : 7.432  
##                     3rd Qu.: 0.08350   3rd Qu.: 8.000  
##                     Max.   :29.27000   Max.   :48.000  
##                     NA's   :7          NA's   :7
```

---

## Your Turn!


```r
range(passwords$rank)
## [1] NA NA
```

---

## Your Turn!


```r
range(passwords$rank)
## [1] NA NA

range(passwords$rank, na.rm = T)
## [1]   1 500
```

---

## Your Turn!


```r
unique(passwords$category)
##  [1] "password-related"    "simple-alphanumeric" "animal"             
##  [4] "sport"               "cool-macho"          "name"               
##  [7] "fluffy"              "food"                "nerdy-pop"          
## [10] "rebellious-rude"     NA
```

---

## Your Turn!


```r
unique(passwords$password)
##   [1] "password"  "123456"    "12345678"  "1234"      "qwerty"    "12345"    
##   [7] "dragon"    "baseball"  "football"  "letmein"   "monkey"    "696969"   
##  [13] "abc123"    "mustang"   "michael"   "shadow"    "master"    "jennifer" 
##  [19] "111111"    "2000"      "jordan"    "superman"  "harley"    "1234567"  
##  [25] "hunter"    "trustno1"  "ranger"    "buster"    "thomas"    "tigger"   
##  [31] "robert"    "soccer"    "batman"    "test"      "pass"      "killer"   
##  [37] "hockey"    "george"    "charlie"   "andrew"    "michelle"  "love"     
##  [43] "sunshine"  "jessica"   "6969"      "pepper"    "daniel"    "access"   
##  [49] "123456789" "654321"    "joshua"    "maggie"    "starwars"  "silver"   
##  [55] "william"   "dallas"    "yankees"   "123123"    "ashley"    "666666"   
##  [61] "hello"     "amanda"    "orange"    "biteme"    "freedom"   "computer" 
##  [67] "sexy"      "thunder"   "nicole"    "ginger"    "heather"   "hammer"   
##  [73] "summer"    "corvette"  "taylor"    "austin"    "1111"      "merlin"   
##  [79] "matthew"   "121212"    "golfer"    "cheese"    "princess"  "martin"   
##  [85] "chelsea"   "patrick"   "richard"   "diamond"   "yellow"    "bigdog"   
##  [91] "secret"    "asdfgh"    "sparky"    "cowboy"    "camaro"    "anthony"  
##  [97] "matrix"    "falcon"    "iloveyou"  "bailey"    "guitar"    "jackson"  
## [103] "purple"    "scooter"   "phoenix"   "aaaaaa"    "morgan"    "tigers"   
## [109] "porsche"   "mickey"    "maverick"  "cookie"    "nascar"    "peanut"   
## [115] "justin"    "131313"    "money"     "samantha"  "panties"   "steelers" 
## [121] "joseph"    "snoopy"    "boomer"    "whatever"  "iceman"    "smokey"   
## [127] "gateway"   "dakota"    "cowboys"   "eagles"    "chicken"   "black"    
## [133] "zxcvbn"    "please"    "andrea"    "ferrari"   "knight"    "hardcore" 
## [139] "melissa"   "compaq"    "coffee"    "booboo"    "johnny"    "bulldog"  
## [145] "xxxxxx"    "welcome"   "james"     "player"    "ncc1701"   "wizard"   
## [151] "scooby"    "charles"   "junior"    "internet"  "mike"      "brandy"   
## [157] "tennis"    "banana"    "monster"   "spider"    "lakers"    "miller"   
## [163] "rabbit"    "enter"     "mercedes"  "brandon"   "steven"    "fender"   
## [169] "john"      "yamaha"    "diablo"    "chris"     "boston"    "tiger"    
## [175] "marine"    "chicago"   "rangers"   "gandalf"   "winter"    "barney"   
## [181] "edward"    "raiders"   "badboy"    "bigdaddy"  "johnson"   "chester"  
## [187] "london"    "midnight"  "blue"      "fishing"   "hannah"    "slayer"   
## [193] "11111111"  "rachel"    "sexsex"    "redsox"    "thx1138"   "asdf"     
## [199] "marlboro"  "panther"   "zxcvbnm"   "arsenal"   "oliver"    "qazwsx"   
## [205] "mother"    "victoria"  "7777777"   "jasper"    "angel"     "david"    
## [211] "winner"    "crystal"   "golden"    "butthead"  "viking"    "jack"     
## [217] "iwantu"    "shannon"   "murphy"    "angels"    "prince"    "cameron"  
## [223] "girls"     "madison"   "wilson"    "carlos"    "willie"    "startrek" 
## [229] "captain"   "maddog"    "jasmine"   "butter"    "booger"    "angela"   
## [235] "golf"      "lauren"    "rocket"    "tiffany"   "theman"    "dennis"   
## [241] "liverpoo"  "flower"    "forever"   "green"     "jackie"    "muffin"   
## [247] "turtle"    "sophie"    "danielle"  "redskins"  "toyota"    "jason"    
## [253] "sierra"    "winston"   "debbie"    "giants"    "packers"   "newyork"  
## [259] "jeremy"    "casper"    "bubba"     "112233"    "sandra"    "lovers"   
## [265] "mountain"  "united"    "cooper"    "driver"    "tucker"    "helpme"   
## [271] "pookie"    "lucky"     "maxwell"   "8675309"   "bear"      "gators"   
## [277] "5150"      "222222"    "jaguar"    "monica"    "fred"      "happy"    
## [283] "hotdog"    "gemini"    "lover"     "xxxxxxxx"  "777777"    "canada"   
## [289] "nathan"    "victor"    "florida"   "88888888"  "nicholas"  "rosebud"  
## [295] "metallic"  "doctor"    "trouble"   "success"   "stupid"    "tomcat"   
## [301] "warrior"   "peaches"   "apples"    "fish"      "qwertyui"  "magic"    
## [307] "buddy"     "dolphins"  "rainbow"   "gunner"    "987654"    "freddy"   
## [313] "alexis"    "braves"    "2112"      "1212"      "cocacola"  "xavier"   
## [319] "dolphin"   "testing"   "bond007"   "member"    "calvin"    "voodoo"   
## [325] "7777"      "samson"    "alex"      "apollo"    "fire"      "tester"   
## [331] "walter"    "beavis"    "voyager"   "peter"     "bonnie"    "rush2112" 
## [337] "beer"      "apple"     "scorpio"   "jonathan"  "skippy"    "sydney"   
## [343] "scott"     "red123"    "power"     "gordon"    "travis"    "beaver"   
## [349] "star"      "jackass"   "flyers"    "232323"    "zzzzzz"    "steve"    
## [355] "rebecca"   "scorpion"  "doggie"    "legend"    "ou812"     "yankee"   
## [361] "blazer"    "bill"      "runner"    "birdie"    "555555"    "parker"   
## [367] "topgun"    "asdfasdf"  "heaven"    "viper"     "animal"    "2222"     
## [373] "bigboy"    "4444"      "arthur"    "baby"      "private"   "godzilla" 
## [379] "donald"    "williams"  "lifehack"  "phantom"   "dave"      "rock"     
## [385] "august"    "sammy"     "cool"      "brian"     "platinum"  "jake"     
## [391] "bronco"    "paul"      "mark"      "frank"     "heka6w2"   "copper"   
## [397] "billy"     "garfield"  "willow"    "little"    "carter"    "albert"   
## [403] "69696969"  "kitten"    "super"     "jordan23"  "eagle1"    "shelby"   
## [409] "america"   "11111"     "jessie"    "house"     "free"      "123321"   
## [415] "chevy"     "white"     "broncos"   "horny"     "surfer"    "nissan"   
## [421] "999999"    "saturn"    "airborne"  "elephant"  "marvin"    "action"   
## [427] "adidas"    "qwert"     "kevin"     "1313"      "explorer"  "walker"   
## [433] "police"    "christin"  "december"  "benjamin"  "wolf"      "sweet"    
## [439] "therock"   "king"      "online"    "brooklyn"  "teresa"    "cricket"  
## [445] "sharon"    "dexter"    "racing"    "gregory"   "teens"     "redwings" 
## [451] "dreams"    "michigan"  "magnum"    "87654321"  "nothing"   "donkey"   
## [457] "trinity"   "digital"   "333333"    "stella"    "cartman"   "guinness" 
## [463] "123abc"    "speedy"    "buffalo"   "kitty"     "eagle"     "einstein" 
## [469] "kelly"     "nelson"    "nirvana"   "vampire"   "xxxx"      "playboy"  
## [475] "louise"    "pumpkin"   "snowball"  "test123"   "girl"      "sucker"   
## [481] "mexico"    "beatles"   "fantasy"   "ford"      "gibson"    "celtic"   
## [487] "marcus"    "cherry"    "cassie"    "888888"    "natasha"   "sniper"   
## [493] "chance"    "genesis"   "hotrod"    "reddog"    "alexande"  "college"  
## [499] "jester"    "passw0rd"  NA
```

---

## Your Turn!


```r
ggplot(passwords, aes(category, rank)) +
  geom_boxplot()
```

&lt;img src="3_Basics_ggplot_files/figure-html/passwords-ranks-box-1.png" width="1080" /&gt;

---

## Your Turn!


```r
ggplot(passwords, aes(category, -rank)) +
  geom_boxplot()
```

&lt;img src="3_Basics_ggplot_files/figure-html/passwords-ranks-box-rev-1.png" width="1080" /&gt;

---

## Your Turn!


```r
ggplot(passwords, aes(category, rank)) +
  geom_point()
```

&lt;img src="3_Basics_ggplot_files/figure-html/passwords-ranks-point-1.png" width="1080" /&gt;

---

## Your Turn!


```r
ggplot(passwords, aes(category, rank)) +
  geom_jitter()
```

&lt;img src="3_Basics_ggplot_files/figure-html/passwords-ranks-jitter-1.png" width="1080" /&gt;

---

## Your Turn!


```r
ggplot(passwords, aes(category, rank)) +
  geom_jitter(width = .2)
```

&lt;img src="3_Basics_ggplot_files/figure-html/passwords-ranks-jitter-2-1.png" width="1080" /&gt;

---

## Your Turn!


```r
ggplot(passwords, aes(category, rank)) +
  geom_jitter(position = position_jitter(width = .2, seed = 1))
```

&lt;img src="3_Basics_ggplot_files/figure-html/passwords-ranks-jitter-seed1-1.png" width="1080" /&gt;

---

## Your Turn!


```r
ggplot(passwords, aes(category, rank)) +
  geom_jitter(position = position_jitter(width = .2, seed = 2020))
```

&lt;img src="3_Basics_ggplot_files/figure-html/passwords-ranks-jitter-seed2020-1.png" width="1080" /&gt;

---

## Your Turn!


```r
ggplot(passwords, aes(category, rank)) +
  stat_summary(fun = min)
```

&lt;img src="3_Basics_ggplot_files/figure-html/passwords-ranks-min-1.png" width="1080" /&gt;

---

## Your Turn!


```r
ggplot(passwords, aes(category, rank)) +
  stat_summary(fun = min, geom = "col")
```

&lt;img src="3_Basics_ggplot_files/figure-html/passwords-ranks-min-2-1.png" width="1080" /&gt;

---
class: inverse, center, middle

# &lt;b style='font-size:70pt'&gt;Layers&lt;/b&gt;&lt;br&gt;
# &lt;b style='font-size:40pt;color:grey'&gt;Statistical Layers: &lt;code style='color:#ebc500'&gt;stat\_\*()&lt;/code&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;stat_*()&lt;/code&gt;

A handful of layers with attention to the statistical transformation rather than the visual appearance:

.pull-left[

```r
ggplot(chic, aes(year, temp)) +
  geom_boxplot() +
* stat_summary(fun = mean)
  ## fun.y in the current CRAN version
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-scale-stats-sum-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;stat_function()&lt;/code&gt;

`stat_function()` makes it easy to add a function to a plot, either continuous or discrete:

.pull-left[

```r
ggplot(tibble(x = c(-8, 8)), aes(x)) +
* stat_function(fun = dnorm) +
* stat_function(
*   fun = dcauchy,
*   color = "red",
*   n = 75
* )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-stats-function-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;stat_ecdf()&lt;/code&gt;

You can also easily plot the empirical cumulative distribution function (ECDF) of a variable:

.pull-left[

```r
ggplot(chic, aes(temp)) +
* stat_ecdf()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-stats-ecdf-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;stat_smooth()&lt;/code&gt;

You can directly add smoothed conditional means:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
  geom_point() +
* stat_smooth()
```

By default this adds a **LOESS** (locally weighted scatter plot smoothing,&lt;br&gt;`method = "loess"`) or a **GAM** (generalized additive model,&lt;br&gt;`method = "gam"`) depending on the number of data points&lt;br&gt;(GAM in case of ≥ 1000 observations).
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-stats-smooth2-1.png" width="504" /&gt;
]

---

## &lt;code style='color:#28a87d;font-weight:700'&gt;stat_smooth()&lt;/code&gt;

You can specify the fitting method and the formula:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
  geom_point() +
* stat_smooth(
*   method = "lm",
*   formula = y ~ x + I(x^2) +
*                 I(x^3) + I(x^4),
*   se = F
* )
```

Other methods such as `method = "lm"` (without an explicit&lt;br&gt;formula) for simple linear regressions and `method = "glm"`&lt;br&gt;for generalized linear models are available as well.
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-stats-smooth-polynom-1.png" width="504" /&gt;
]

---

## Your Turn!

&lt;b style='font-size:18pt;color:#00684a'&gt;
A famous example datat set is `mtcars` which is pre-loaded in `R`.

* Have a look at the data set.

* Create the following three visualizations:

&lt;/b&gt;

&lt;p style='text-align:center;'&gt;&lt;img src="img/exercise-geom.png" style='width:95%;'&gt;&lt;/p&gt;

---
class: inverse, center

## Your Turn: Create this Box Plot!

&lt;img src="3_Basics_ggplot_files/figure-html/exercise-plot-mtcars-box-mean-1.png" width="504" /&gt;

---
class: inverse, center

## Your Turn: Create this Box Plot! (Less Mean)

&lt;img src="3_Basics_ggplot_files/figure-html/exercise-plot-mtcars-box-1.png" width="504" /&gt;

---

## Your Turn: Box Plots with Raw Data

.pull-left[

```r
ggplot(
  mtcars, 
  aes(cyl, mpg)
  ) +
* geom_boxplot()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-box-1.png" width="504" /&gt;
]

---

## Your Turn: Box Plots with Raw Data

.pull-left[

```r
ggplot(
  mtcars, 
* aes(as.factor(cyl), mpg)
  ) + 
  geom_boxplot()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-box-2-1.png" width="504" /&gt;
]

---

## Your Turn: Box Plots with Raw Data

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), mpg)
  ) + 
  geom_boxplot() + 
* geom_point()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-box-3-1.png" width="504" /&gt;
]

---

## Your Turn: Box Plots with Raw Data

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), mpg)
  ) + 
  geom_boxplot() + 
* geom_jitter()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-box-4-1.png" width="504" /&gt;
]

---

## Your Turn: Box Plots with Raw Data

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), mpg)
  ) + 
  geom_boxplot() + 
  geom_jitter(
*   size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-box-5-1.png" width="504" /&gt;
]

---

## Your Turn: Box Plots with Raw Data

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), mpg)
  ) + 
  geom_boxplot() + 
  geom_jitter(
    size = 3,
*   alpha = .3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-box-5b-1.png" width="504" /&gt;
]

---

## rur Turn: Box Plots with Raw Data

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), mpg)
  ) + 
  geom_boxplot() + 
  geom_jitter(
    size = 3,
    alpha = .3,
*   width = .2
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-box-6-1.png" width="504" /&gt;
]

---

## Your Turn: Box Plots with Raw Data

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), mpg)
  ) + 
  geom_boxplot() + 
  geom_jitter(
    size = 3,
    alpha = .3,
*   position = position_jitter(
*     width = .2,
*     seed = 2020
*   )
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-box-7-1.png" width="504" /&gt;
]

---

## Your Turn: Box Plots with Raw Data

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), mpg)
  ) + 
* geom_boxplot(outlier.alpha = 0) +
  geom_jitter(
    size = 3,
    alpha = .3,
    position = position_jitter(
      width = .2,
      seed = 2020
    )
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-box-8-1.png" width="504" /&gt;
]

---
class: inverse, center

## Your Turn: Create this Violin Plot!

&lt;img src="3_Basics_ggplot_files/figure-html/exercise-plot-mtcars-violin-1.png" width="504" /&gt;

---

## Your Turn: Violin Plot

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), hp)
  ) + 
* geom_violin()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-violin-basic-1.png" width="504" /&gt;
]

---

## Your Turn: Violin Plot

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), hp)
  ) + 
  geom_violin(
*   fill = "grey70"
  ) 
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-violin-1.png" width="504" /&gt;
]

---

## Your Turn: Violin Plot

.pull-left[

```r
ggplot(
  mtcars,
  aes(as.factor(cyl), hp)
  ) + 
  geom_violin(
    fill = "grey70"
  ) +
* geom_boxplot()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-violin-2-1.png" width="504" /&gt;
]

---

## Your Turn: Violin Plot

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), hp)
  ) + 
  geom_violin(
    fill = "grey70"
  ) +
* geom_boxplot(width = .05)
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-violin-3-1.png" width="504" /&gt;
]

---

## Your Turn: Violin Plot

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), hp)
  ) + 
  geom_violin(
    fill = "grey70"
  ) +
  geom_boxplot(
    width = .05, 
    coef = 0
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-violin-4-1.png" width="504" /&gt;
]

---

## Your Turn: Violin Plot

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), hp)
  ) + 
  geom_violin(
    fill = "grey70"
  ) +
  geom_boxplot(
    width = .05, 
    coef = 0,
*   outlier.shape = NA
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-violin-5-1.png" width="504" /&gt;
]

---

## Your Turn: Violin Plot

.pull-left[

```r
ggplot(
  mtcars, 
  aes(as.factor(cyl), hp)
  ) + 
  geom_violin(
    fill = "grey70"
  ) +
  geom_boxplot(
    width = .05, 
    coef = 0,
    #outlier.shape = NA
*   outlier.alpha = 0
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-violin-6-1.png" width="504" /&gt;
]

---
class: inverse, center

## Your Turn: Create this Scatter Plot!

&lt;img src="3_Basics_ggplot_files/figure-html/exercise-plot-mtcars-point-fitting-1.png" width="504" /&gt;

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) + 
* geom_point()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) + 
  geom_point() +
* stat_smooth()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) + 
  geom_point() +
  stat_smooth(
*   method = "lm"
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-2-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) + 
  geom_point() +
  stat_smooth(
    method = "lm",
*   se = FALSE
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-3-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) + 
  geom_point(
*   color = "red"
  ) +
  stat_smooth(
    method = "lm",
    se = FALSE,
*   color = "red"
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-red-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) + 
  geom_point(
    color = "red", 
*   size = 5
  ) + 
  stat_smooth(
    method = "lm",
    se = FALSE,
    color = "red"
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-red-2-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) + 
  geom_point(
    color = "red", 
    size = 5, 
*   alpha = .3
  ) +
  stat_smooth(
    method = "lm",
    se = FALSE,
    color = "red"
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-red-3-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) + 
  geom_point(
*   shape = 21,
*   fill = "red",
    size = 5, 
    alpha = .3
  ) +
  stat_smooth(
    method = "lm",
    se = FALSE,
    color = "red"
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-red-4-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) + 
  geom_point(
    shape = 21,
    fill = "red",
*   color = "black",
*   stroke = 1.25,
    size = 5, 
    alpha = .3
  ) +
  stat_smooth(
    method = "lm",
    se = FALSE,
    color = "red"
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-red-5-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) +
* stat_smooth(
*   method = "lm",
*   se = FALSE,
*   color = "red"
* ) +
  geom_point(
    shape = 21,
    fill = "red",
    color = "black",
    stroke = 1.25,
    size = 5, 
    alpha = .3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-red-6-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Linear Fitting

.pull-left[

```r
ggplot(mtcars, aes(wt, disp)) +
  stat_smooth(
    method = "lm",
    se = FALSE,
    color = "red"
  ) +
  geom_point(
    shape = 21,
    fill = "red",
*   color = "transparent",
    size = 5, 
    alpha = .3
  ) +
* geom_point(
*   shape = 21,
*   fill = "transparent",
*   color = "black",
*   stroke = 1.25,
*   size = 5
* )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-mtcars-point-fitting-red-7-1.png" width="504" /&gt;
]
---
class: inverse, center, middle

# &lt;b style='font-size:70pt'&gt;Aesthetics&lt;/b&gt;&lt;br&gt;
# &lt;b style='font-size:40pt;color:grey'&gt;&lt;code style='color:#ebc500'&gt;aes()&lt;/code&gt;&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

---

## &lt;b&gt;&lt;code&gt;aes()&lt;/code&gt;&lt;/b&gt;

Aesthetics of the geometric and statistical objects, such as 

* **position** via `x`, `y`, `xmin`, `xmax`, `ymin`, `ymax`, ...

--

* **color** via `color` and `fill`

* **transparency** via `alpha`

--

* **size** via `size` and `width`

* **shape** via `shape` and `linetype`

--

&lt;br&gt; In general, everything which maps to the data needs to be wrapped in `aes()` (such as `x` and `y` in our previous examples)&lt;br&gt;while static arguments are placed outside the `aes()` (such as `color` and `alpha` in our previous examples).

--

e.g.&lt;br&gt;
`geom_point(color = "red")` to color all points in the same color&lt;br&gt;
`geom_point(aes(color = season))` to color points based on the variable `season`

---

## &lt;b&gt;&lt;code&gt;aes(color/fill/alpha/size/shape)&lt;/code&gt;&lt;/b&gt;

This way, we can enlarge all points and add some transparency:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
  geom_point(
*   size = 4,
*   alpha = .2
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-size-alpha-1.png" width="504" /&gt;
]

---

## &lt;b&gt;&lt;code&gt;aes(color/fill/alpha/size/shape)&lt;/code&gt;&lt;/b&gt;

This way, we can enlarge all points and add some transparency:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
  geom_point(
*   size = 4,
*   alpha = .2
  )
```

**The changes in aesthetics are applied to all data points.**

]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-size-alpha2-1.png" width="504" /&gt;
]

---

## &lt;b&gt;&lt;code&gt;aes(color/fill/alpha/size/shape)&lt;/code&gt;&lt;/b&gt;

... and change the color and the shape based on `season` and `year`:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
  geom_point(
*   aes(
*     color = season,
*     shape = year
*   ),
    size = 4,
    alpha = .2
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-col-shape-1.png" width="504" /&gt;
]

---

## &lt;b&gt;&lt;code&gt;aes(color/fill/alpha/size/shape)&lt;/code&gt;&lt;/b&gt;

... and change the color and the shape based on `season` and `year`:

.pull-left[

```r
ggplot(chic, aes(date, temp)) +
  geom_point(
*   aes(
*     color = season,
*     shape = year
*   ),
    size = 4,
    alpha = .2
  )
```

**The changes in aesthetics are applied to each group.**
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-col-shape2-1.png" width="504" /&gt;
]

---

## &lt;b&gt;Global &lt;code&gt;aes()&lt;/code&gt;&lt;/b&gt;

Alternatively, all aesthetics can be grouped together (and are then applied to all `geom_*()` and `stats_*()`):

.pull-left[

```r
ggplot(
  chic, 
  aes(date, 
      temp,
*     color = season,
*     shape = year)
  ) +
* geom_line() +
  geom_point(
    size = 4,
    alpha = .2
  ) 
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-col-shape-global-1.png" width="504" /&gt;
]

---

## &lt;b&gt;&lt;code&gt;aes(group)&lt;/code&gt;&lt;/b&gt;

You can create subsets of the data by specifying a grouping variable via `group`:

.pull-left[

```r
ggplot(chic, aes(temp)) +
* stat_ecdf(aes(group = year))
```

&lt;br&gt;However, for most applications you can simply specify the grouping using visual aesthetics (`color`, `fill`, `size`, `alpha`, `shape`, `linetype`).
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-group-1.png" width="504" /&gt;
]

---

## Your Turn!

&lt;b style='font-size:18pt;color:#00684a'&gt;
* Run the same code without the grouping. Guess first what's going to happen.

* Replace the&lt;br&gt;&lt;br&gt;`stat_ecdf(aes(grouop = year))` by `geom_boxplot(aes(group = year))`&lt;br&gt;&lt;br&gt;and run the code.How does this plot differ from previous ones?

* Replace the `group` argument by `color`, `linetype`, `shape` and `alpha`. What happens?

&lt;/b&gt;

---

## &lt;b&gt;&lt;code&gt;aes(color)&lt;/code&gt;&lt;/b&gt;

However, for most applications you can simply specify the grouping using visual aesthetics.

.pull-left[

```r
ggplot(chic, aes(temp)) +
* stat_ecdf(aes(color = year))
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-group-col-1.png" width="504" /&gt;
]

---

## &lt;b&gt;&lt;code&gt;aes(linetype)&lt;/code&gt;&lt;/b&gt;

However, for most applications you can simply specify the grouping using visual aesthetics.

.pull-left[

```r
ggplot(chic, aes(temp)) +
* stat_ecdf(aes(linetype = year))
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-group-linetype-1.png" width="504" /&gt;
]

---

## &lt;b&gt;&lt;code&gt;aes(shape)&lt;/code&gt;&lt;/b&gt;

However, for most applications you can simply specify the grouping using visual aesthetics.

.pull-left[

```r
ggplot(chic, aes(temp)) +
* stat_ecdf(aes(shape = year))
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-group-shape-1.png" width="504" /&gt;
]

---

## &lt;b&gt;&lt;code&gt;aes(alpha)&lt;/code&gt;&lt;/b&gt;

However, for most applications you can simply specify the grouping using visual aesthetics.

.pull-left[

```r
ggplot(chic, aes(temp)) +
* stat_ecdf(aes(alpha = year))
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-structure-aes-group-alpha-1.png" width="504" /&gt;
]

---

## Your Turn!

&lt;b style='font-size:18pt;color:#00684a'&gt;
Another training data set focussing on cars comes with `ggplot2` and is called `mpg`:

* Create the following visualizations:

&lt;/b&gt;

&lt;p style='text-align:center;'&gt;&lt;img src="img/exercise-aes.png" style='width:77%;'&gt;&lt;/p&gt;

---
class: inverse, center

## Your Turn: Create this Scatter Plot!

&lt;img src="3_Basics_ggplot_files/figure-html/exercise-plot-mpg-points-1.png" width="504" /&gt;

---

## Your Turn: Scatter Plot with Diamonds

.pull-left[

```r
ggplot(mpg, aes(hwy, displ)) +
  geom_point()
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-class-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Diamonds

.pull-left[

```r
ggplot(mpg, aes(hwy, displ)) +
  geom_point(
*   shape = 23
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-class-2-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Diamonds

.pull-left[

```r
ggplot(mpg, aes(hwy, displ)) +
  geom_point(
    shape = 23,
*   size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-class-3-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Diamonds

.pull-left[

```r
ggplot(mpg, aes(hwy, displ)) +
  geom_point(
*   mapping = aes(fill = class),
    shape = 23,
    size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-class-4-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Diamonds

.pull-left[

```r
ggplot(mpg, aes(hwy, displ)) +
  geom_point(
*   aes(fill = class),
    shape = 23,
    size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-class-4b-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Diamonds

.pull-left[

```r
ggplot(
  mpg, 
  aes(
    hwy, 
    displ,
*   fill = class
  )) +
  geom_point(
    shape = 23,
    size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-class-4c-1.png" width="504" /&gt;
]

---
class: inverse, center

## Your Turn: Create this Scatter Plot!

&lt;img src="3_Basics_ggplot_files/figure-html/exercise-plot-mpg-highlight-1.png" width="504" /&gt;

---

## Your Turn: Scatter Plot with Highlights

.pull-left[

```r
ggplot(mpg, aes(hwy, displ)) +
  geom_point(
*   size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-highlight-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Highlights

.pull-left[

```r
ggplot(
  mpg, 
  aes(
    hwy, 
    displ,
*   color = hwy &lt;= 30
  )) +
  geom_point(
    size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-highlight-2-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Highlights

.pull-left[

```r
ggplot(
  mpg, 
  aes(
    hwy, 
    displ,
    color = hwy &lt;= 30
  )) +
* stat_smooth() +
  geom_point(
    size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-highlight-3-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Highlights

.pull-left[

```r
ggplot(
  mpg, 
  aes(
    hwy, 
    displ
  )) +
  stat_smooth() +
  geom_point(
*   aes(
*     color = hwy &lt;= 30
*   ),
    size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-highlight-4-1.png" width="504" /&gt;
]

---

## Your Turn: Scatter Plot with Highlights

.pull-left[

```r
ggplot(
  mpg, 
  aes(
    hwy, 
    displ
  )) +
  stat_smooth(
    color = "black"
  ) +
  geom_point(
    aes(
*     color = hwy &lt;= 30
    ),
    size = 3
  )
```
]

.pull-right[
&lt;img src="3_Basics_ggplot_files/figure-html/plot-scatter-mpg-highlight-5-1.png" width="504" /&gt;
]

---
class: center, middle

&lt;img src="img/ah_ggplot2_masterpiece.png" style='width:71%'&gt;&lt;br&gt;&lt;i style='font-size:10pt;color:grey'&gt;Illustration by Allison Horst (github.com/allisonhorst/stats-illustrations)&lt;/i&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"slideNumberFormat": "<div class=\"progress-bar-container\">   <div class=\"progress-bar\" style=\"width: calc(%current% / %total% * 100%);\">   </div> </div> ",
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
